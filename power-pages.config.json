{
  "$schema": "./power-pages.config.schema.json",
  "environmentName": "HumanAI-Pages-Dev",
  "websiteName": "HumanAI-Convention",
  "siteUrl": "https://humanai-pages-dev.powerappsportals.com",
  "deployment": {
    "type": "static",
    "sourcePath": "web/dist",
    "excludePaths": [
      "*.map",
      "*.tsbuildinfo",
      "node_modules/**",
      ".env*",
      "*.log"
    ],
    "includePaths": [
      "index.html",
      "assets/**",
      "brand/**",
      "version.json",
      "routes.json",
      "healthz.json",
      "readyz.json"
    ]
  },
  "headers": {
    "X-Frame-Options": "DENY",
    "X-Content-Type-Options": "nosniff",
    "Referrer-Policy": "strict-origin-when-cross-origin",
    "Permissions-Policy": "camera=(), microphone=(), geolocation=(), payment=(), usb=()",
    "X-XSS-Protection": "0",
    "Strict-Transport-Security": "max-age=63072000; includeSubDomains; preload",
    "Content-Security-Policy": "default-src 'self'; base-uri 'self'; frame-ancestors 'none'; object-src 'none'; form-action 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' data:; connect-src 'self' https://*.applicationinsights.azure.com https://dc.services.visualstudio.com; worker-src 'self' blob:; manifest-src 'self'; upgrade-insecure-requests"
  },
  "routes": {
    "navigationFallback": {
      "rewrite": "/index.html",
      "exclude": [
        "/assets/*",
        "/brand/*",
        "/favicon.ico",
        "*.json",
        "*.xml",
        "*.txt"
      ]
    }
  },
  "features": {
    "analytics": {
      "enabled": true,
      "provider": "applicationInsights",
      "connectionString": "${VITE_APPINSIGHTS_CONNECTION_STRING}"
    },
    "authentication": {
      "enabled": false,
      "providers": []
    },
    "dataverse": {
      "enabled": false,
      "url": "https://humanai-pages-dev.crm.dynamics.com/"
    }
  },
  "build": {
    "nodeVersion": "20",
    "buildCommand": "npm run build",
    "outputDirectory": "web/dist",
    "environmentVariables": {
      "VITE_DEPLOYMENT_TARGET": "powerplatform",
      "VITE_POWERPLATFORM_ENVIRONMENT": "HumanAI-Pages-Dev"
    }
  },
  "monitoring": {
    "healthCheck": {
      "enabled": true,
      "path": "/healthz.json",
      "interval": "5m"
    },
    "readinessCheck": {
      "enabled": true,
      "path": "/readyz.json"
    }
  },
  "metadata": {
    "version": "1.0.0",
    "description": "HumanAI Convention - Power Pages Deployment Configuration",
    "maintainer": "HumanAI Convention Team",
    "lastUpdated": "2024-01-15T00:00:00Z"
  }
}
